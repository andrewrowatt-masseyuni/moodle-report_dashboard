!function(factory){if("function"==typeof define&&define.amd)define("report_dashboard/dataTables.select",["jquery","report_dashboard/dataTables"],(function($){return factory($,window,document)}));else if("object"==typeof exports){var jq=require("jquery"),cjsRequires=function(root,$){$.fn.dataTable||require("datatables.net")(root,$)};"undefined"==typeof window?module.exports=function(root,$){return root||(root=window),$||($=jq(root)),cjsRequires(root,$),factory($,root,root.document)}:(cjsRequires(window,jq),module.exports=factory(jq,window,window.document))}else factory(jQuery,window,document)}((function($,window,document){var DataTable=$.fn.dataTable;function cellRange(dt,idx,last){var indexes,columnIndexes,rowIndexes,selectColumns=function(start,end){if(start>end){var tmp=end;end=start,start=tmp}var record=!1;return dt.columns(":visible").indexes().filter((function(i){return i===start&&(record=!0),i===end?(record=!1,!0):record}))},selectRows=function(start,end){var indexes=dt.rows({search:"applied"}).indexes();if(indexes.indexOf(start)>indexes.indexOf(end)){var tmp=end;end=start,start=tmp}var record=!1;return indexes.filter((function(i){return i===start&&(record=!0),i===end?(record=!1,!0):record}))};dt.cells({selected:!0}).any()||last?(columnIndexes=selectColumns(last.column,idx.column),rowIndexes=selectRows(last.row,idx.row)):(columnIndexes=selectColumns(0,idx.column),rowIndexes=selectRows(0,idx.row)),indexes=dt.cells(rowIndexes,columnIndexes).flatten(),dt.cells(idx,{selected:!0}).any()?dt.cells(indexes).deselect():dt.cells(indexes).select()}function checkboxClass(selector){var name=DataTable.select.classes.checkbox;return selector?name.replace(/ /g,"."):name}function disableMouseSelection(dt){var selector=dt.settings()[0]._select.selector;$(dt.table().container()).off("mousedown.dtSelect",selector).off("mouseup.dtSelect",selector).off("click.dtSelect",selector),$("body").off("click.dtSelect"+_safeId(dt.table().node()))}function enableMouseSelection(dt){var matchSelection,container=$(dt.table().container()),ctx=dt.settings()[0],selector=ctx._select.selector;container.on("mousedown.dtSelect",selector,(function(e){(e.shiftKey||e.metaKey||e.ctrlKey)&&container.css("-moz-user-select","none").one("selectstart.dtSelect",selector,(function(){return!1})),window.getSelection&&(matchSelection=window.getSelection())})).on("mouseup.dtSelect",selector,(function(){container.css("-moz-user-select","")})).on("click.dtSelect",selector,(function(e){var idx,items=dt.select.items();if(matchSelection){var selection=window.getSelection();if((!selection.anchorNode||$(selection.anchorNode).closest("table")[0]===dt.table().node())&&selection!==matchSelection)return}var ctx=dt.settings()[0],container=dt.table().container();if($(e.target).closest("div.dt-container")[0]==container){var cell=dt.cell($(e.target).closest("td, th"));if(cell.any()){var event=$.Event("user-select.dt");if(eventTrigger(dt,event,[items,cell,e]),!event.isDefaultPrevented()){var cellIndex=cell.index();"row"===items?(idx=cellIndex.row,typeSelect(e,dt,ctx,"row",idx)):"column"===items?(idx=cell.index().column,typeSelect(e,dt,ctx,"column",idx)):"cell"===items&&(idx=cell.index(),typeSelect(e,dt,ctx,"cell",idx)),ctx._select_lastCell=cellIndex}}}})),$("body").on("click.dtSelect"+_safeId(dt.table().node()),(function(e){if(ctx._select.blurable){if($(e.target).parents().filter(dt.table().container()).length)return;if(0===$(e.target).parents("html").length)return;if($(e.target).parents("div.DTE").length)return;var event=$.Event("select-blur.dt");if(eventTrigger(dt,event,[e.target,e]),event.isDefaultPrevented())return;clear(ctx,!0)}}))}function eventTrigger(api,type,args,any){any&&!api.flatten().length||("string"==typeof type&&(type+=".dt"),args.unshift(api),$(api.table().node()).trigger(type,args))}function isCheckboxColumn(col){return col.mRender&&"selectCheckbox"===col.mRender._name}function info(api,node){if("api"!==api.select.style()&&!1!==api.select.info()){var ctx=api.settings()[0],rowSetLength=ctx._select_set.length,rows=rowSetLength||api.rows({selected:!0}).count(),columns=api.columns({selected:!0}).count(),cells=api.cells({selected:!0}).count();"subtractive"===ctx._select_mode&&(rows=api.page.info().recordsDisplay-rowSetLength);var add=function(el,name,num){el.append($('<span class="select-item"/>').append(api.i18n("select."+name+"s",{_:"%d "+name+"s selected",0:"",1:"1 "+name+" selected"},num)))},el=$(node),output=$('<span class="select-info"/>');add(output,"row",rows),add(output,"column",columns),add(output,"cell",cells);var existing=el.children("span.select-info");existing.length&&existing.remove(),""!==output.text()&&el.append(output)}}function keysPageDown(dt){var info=dt.page.info();info.page<info.pages-1&&dt.one("draw",(function(){dt.row(":first-child").node().focus()})).page("next").draw(!1)}function keysPageUp(dt){dt.page.info().page>0&&dt.one("draw",(function(){dt.row(":last-child").node().focus()})).page("previous").draw(!1)}function init(ctx){var api=new DataTable.Api(ctx);ctx._select_init=!0,ctx._select_mode="additive",ctx._select_set=[],ctx.aoRowCreatedCallback.push((function(row,data,index){var i,ien,d=ctx.aoData[index],id=api.row(index).id();for((d._select_selected||"additive"===ctx._select_mode&&ctx._select_set.includes(id)||"subtractive"===ctx._select_mode&&!ctx._select_set.includes(id))&&(d._select_selected=!0,$(row).addClass(ctx._select.className).find("input."+checkboxClass(!0)).prop("checked",!0)),i=0,ien=ctx.aoColumns.length;i<ien;i++)(ctx.aoColumns[i]._select_selected||d._selected_cells&&d._selected_cells[i])&&$(d.anCells[i]).addClass(ctx._select.className)})),function(api){api.on("select",(function(e,dt,type,indexes){if("row"===type){var ctx=api.settings()[0];"additive"===ctx._select_mode?_add(api,ctx._select_set,indexes):_remove(api,ctx._select_set,indexes)}})),api.on("deselect",(function(e,dt,type,indexes){if("row"===type){var ctx=api.settings()[0];"additive"===ctx._select_mode?_remove(api,ctx._select_set,indexes):_add(api,ctx._select_set,indexes)}}))}(api),api.on("info.dt",(function(e,ctx,node){ctx._select.infoEls.includes(node)||ctx._select.infoEls.push(node),info(api,node)})),api.on("select.dtSelect.dt deselect.dtSelect.dt",(function(){ctx._select.infoEls.forEach((function(el){info(api,el)})),api.state.save()})),api.on("destroy.dtSelect",(function(){$(api.rows({selected:!0}).nodes()).removeClass(api.settings()[0]._select.className),$("input."+checkboxClass(!0),api.table().header()).remove(),disableMouseSelection(api),api.off(".dtSelect"),$("body").off(".dtSelect"+_safeId(api.table().node()))}))}function rowColumnRange(dt,type,idx,last){var indexes=dt[type+"s"]({search:"applied"}).indexes(),idx1=indexes.indexOf(last),idx2=indexes.indexOf(idx);if(dt[type+"s"]({selected:!0}).any()||-1!==idx1){if(idx1>idx2){var tmp=idx2;idx2=idx1,idx1=tmp}indexes.splice(idx2+1,indexes.length),indexes.splice(0,idx1)}else indexes.splice(indexes.indexOf(idx)+1,indexes.length);dt[type](idx,{selected:!0}).any()?(indexes.splice(indexes.indexOf(idx),1),dt[type+"s"](indexes).deselect()):dt[type+"s"](indexes).select()}function clear(ctx,force){if(force||"single"===ctx._select.style){var api=new DataTable.Api(ctx);api.rows({selected:!0}).deselect(),api.columns({selected:!0}).deselect(),api.cells({selected:!0}).deselect()}}function typeSelect(e,dt,ctx,type,idx){var style=dt.select.style(),toggleable=dt.select.toggleable(),isSelected=dt[type](idx,{selected:!0}).any();if(!isSelected||toggleable)if("os"===style)if(e.ctrlKey||e.metaKey)dt[type](idx).select(!isSelected);else if(e.shiftKey)"cell"===type?cellRange(dt,idx,ctx._select_lastCell||null):rowColumnRange(dt,type,idx,ctx._select_lastCell?ctx._select_lastCell[type]:null);else{var selected=dt[type+"s"]({selected:!0});isSelected&&1===selected.flatten().length?dt[type](idx).deselect():(selected.deselect(),dt[type](idx).select())}else"multi+shift"==style&&e.shiftKey?"cell"===type?cellRange(dt,idx,ctx._select_lastCell||null):rowColumnRange(dt,type,idx,ctx._select_lastCell?ctx._select_lastCell[type]:null):dt[type](idx).select(!isSelected)}function _safeId(node){return node.id.replace(/[^a-zA-Z0-9\-\_]/g,"-")}function _add(api,arr,indexes){for(var i=0;i<indexes.length;i++){var id=api.row(indexes[i]).id();id&&"undefined"!==id&&!arr.includes(id)&&arr.push(id)}}function _remove(api,arr,indexes){for(var i=0;i<indexes.length;i++){var id=api.row(indexes[i]).id(),idx=arr.indexOf(id);-1!==idx&&arr.splice(idx,1)}}DataTable.select={},DataTable.select.classes={checkbox:"dt-select-checkbox"},DataTable.select.version="3.0.0",DataTable.select.init=function(dt){var ctx=dt.settings()[0];if(!DataTable.versionCheck("2"))throw"Warning: Select requires DataTables 2 or newer";if(!ctx._select){var savedSelected=dt.state.loaded(),selectAndSave=function(e,settings,data){if(null!==data&&void 0!==data.select){if(dt.rows({selected:!0}).any()&&dt.rows().deselect(),void 0!==data.select.rows&&dt.rows(data.select.rows).select(),dt.columns({selected:!0}).any()&&dt.columns().deselect(),void 0!==data.select.columns&&dt.columns(data.select.columns).select(),dt.cells({selected:!0}).any()&&dt.cells().deselect(),void 0!==data.select.cells)for(var i=0;i<data.select.cells.length;i++)dt.cell(data.select.cells[i].row,data.select.cells[i].column).select();dt.state.save()}};dt.on("stateSaveParams",(function(e,settings,data){data.select={},data.select.rows=dt.rows({selected:!0}).ids(!0).toArray(),data.select.columns=dt.columns({selected:!0})[0],data.select.cells=dt.cells({selected:!0})[0].map((function(coords){return{row:dt.row(coords.row).id(!0),column:coords.column}}))})).on("stateLoadParams",selectAndSave).one("init",(function(){selectAndSave(0,0,savedSelected)}));var init=ctx.oInit.select,defaults=DataTable.defaults.select,opts=void 0===init?defaults:init,items="row",style="api",blurable=!1,toggleable=!0,selectable=null,info=!0,selector="td, th",className="selected",headerCheckbox=!0,setStyle=!1,keys=!1;ctx._select={infoEls:[]},!0===opts?(style="os",setStyle=!0):"string"==typeof opts?(style=opts,setStyle=!0):$.isPlainObject(opts)&&(void 0!==opts.blurable&&(blurable=opts.blurable),void 0!==opts.toggleable&&(toggleable=opts.toggleable),void 0!==opts.info&&(info=opts.info),void 0!==opts.items&&(items=opts.items),void 0!==opts.style?(style=opts.style,setStyle=!0):(style="os",setStyle=!0),void 0!==opts.selector&&(selector=opts.selector),void 0!==opts.className&&(className=opts.className),void 0!==opts.headerCheckbox&&(headerCheckbox=opts.headerCheckbox),void 0!==opts.selectable&&(selectable=opts.selectable),void 0!==opts.keys&&(keys=opts.keys)),dt.select.selector(selector),dt.select.items(items),dt.select.style(style),dt.select.blurable(blurable),dt.select.toggleable(toggleable),dt.select.info(info),dt.select.keys(keys),dt.select.selectable(selectable),ctx._select.className=className,!setStyle&&$(dt.table().node()).hasClass("selectable")&&dt.select.style("os"),(headerCheckbox||"select-page"===headerCheckbox||"select-all"===headerCheckbox)&&dt.ready((function(){!function(dt,headerCheckbox){var dtInternalColumns=dt.settings()[0].aoColumns;dt.columns().iterator("column",(function(s,idx){if(isCheckboxColumn(dtInternalColumns[idx])){var header=dt.column(idx).header();if(!$("input",header).length){var input=$("<input>").attr({class:checkboxClass(!0),type:"checkbox","aria-label":dt.i18n("select.aria.headerCheckbox")||"Select all rows"}).appendTo(header).on("change",(function(){this.checked?"select-page"==headerCheckbox?dt.rows({page:"current"}).select():dt.rows({search:"applied"}).select():"select-page"==headerCheckbox?dt.rows({page:"current",selected:!0}).deselect():dt.rows({selected:!0}).deselect()})).on("click",(function(e){e.stopPropagation()}));dt.on("draw select deselect",(function(e,pass,type){if("row"===type||!type){var nums=function(dt,headerCheckbox){var ctx=dt.settings()[0],selectable=ctx._select.selectable,available=0,count="select-page"==headerCheckbox?dt.rows({page:"current",selected:!0}).count():dt.rows({selected:!0}).count(),search="select-page"==headerCheckbox?dt.rows({page:"current",selected:!0}).count():dt.rows({search:"applied",selected:!0}).count();if(selectable)for(var indexes="select-page"==headerCheckbox?dt.rows({page:"current"}).indexes():dt.rows({search:"applied"}).indexes(),i=0;i<indexes.length;i++){var rowInternal=ctx.aoData[indexes[i]];selectable(rowInternal._aData,rowInternal.nTr,indexes[i])&&available++}else available="select-page"==headerCheckbox?dt.rows({page:"current"}).count():dt.rows({search:"applied"}).count();return{available:available,count:count,search:search}}(dt,headerCheckbox);nums.search&&nums.search<=nums.count&&nums.search===nums.available?input.prop("checked",!0).prop("indeterminate",!1):0===nums.search&&0===nums.count?input.prop("checked",!1).prop("indeterminate",!1):input.prop("checked",!1).prop("indeterminate",!0)}}))}}}))}(dt,headerCheckbox)}))}},$.each([{type:"row",prop:"aoData"},{type:"column",prop:"aoColumns"}],(function(i,o){DataTable.ext.selector[o.type].push((function(settings,opts,indexes){var data,selected=opts.selected,out=[];if(!0!==selected&&!1!==selected)return indexes;for(var i=0,ien=indexes.length;i<ien;i++)(data=settings[o.prop][indexes[i]])&&(!0===selected&&!0===data._select_selected||!1===selected&&!data._select_selected)&&out.push(indexes[i]);return out}))})),DataTable.ext.selector.cell.push((function(settings,opts,cells){var rowData,selected=opts.selected,out=[];if(void 0===selected)return cells;for(var i=0,ien=cells.length;i<ien;i++)(rowData=settings.aoData[cells[i].row])&&(!0===selected&&rowData._selected_cells&&!0===rowData._selected_cells[cells[i].column]||!1===selected&&(!rowData._selected_cells||!rowData._selected_cells[cells[i].column]))&&out.push(cells[i]);return out}));var apiRegister=DataTable.Api.register,apiRegisterPlural=DataTable.Api.registerPlural;function i18n(label,def){return function(dt){return dt.i18n("buttons."+label,def)}}function namespacedEvents(config){var unique=config._eventNamespace;return"draw.dt.DT"+unique+" select.dt.DT"+unique+" deselect.dt.DT"+unique}apiRegister("select()",(function(){return this.iterator("table",(function(ctx){DataTable.select.init(new DataTable.Api(ctx))}))})),apiRegister("select.blurable()",(function(flag){return void 0===flag?this.context[0]._select.blurable:this.iterator("table",(function(ctx){ctx._select.blurable=flag}))})),apiRegister("select.toggleable()",(function(flag){return void 0===flag?this.context[0]._select.toggleable:this.iterator("table",(function(ctx){ctx._select.toggleable=flag}))})),apiRegister("select.info()",(function(flag){return void 0===flag?this.context[0]._select.info:this.iterator("table",(function(ctx){ctx._select.info=flag}))})),apiRegister("select.items()",(function(items){return void 0===items?this.context[0]._select.items:this.iterator("table",(function(ctx){ctx._select.items=items,eventTrigger(new DataTable.Api(ctx),"selectItems",[items])}))})),apiRegister("select.keys()",(function(flag){return void 0===flag?this.context[0]._select.keys:this.iterator("table",(function(ctx){ctx._select||DataTable.select.init(new DataTable.Api(ctx)),ctx._select.keys=flag,function(dt){var ctx=dt.settings()[0],flag=ctx._select.keys,namespace="dts-keys-"+ctx.sTableId;flag?($(dt.rows({page:"current"}).nodes()).attr("tabindex",0),dt.on("draw."+namespace,(function(){$(dt.rows({page:"current"}).nodes()).attr("tabindex",0)})),$(document).on("keydown."+namespace,(function(e){var key=e.keyCode,active=document.activeElement;if([9,13,32,38,40].includes(key)){var nodes=dt.rows({page:"current"}).nodes().toArray(),idx=nodes.indexOf(active),preventDefault=!0;if(-1!==idx){if(9===key)!1===e.shift&&idx===nodes.length-1?keysPageDown(dt):!0===e.shift&&0===idx?keysPageUp(dt):preventDefault=!1;else if(13===key||32===key){var row=dt.row(active);row.selected()?row.deselect():row.select()}else 38===key?idx>0?nodes[idx-1].focus():keysPageUp(dt):idx<nodes.length-1?nodes[idx+1].focus():keysPageDown(dt);preventDefault&&(e.stopPropagation(),e.preventDefault())}}}))):($(dt.rows().nodes()).removeAttr("tabindex"),dt.off("draw."+namespace),$(document).off("keydown."+namespace))}(new DataTable.Api(ctx))}))})),apiRegister("select.style()",(function(style){return void 0===style?this.context[0]._select.style:this.iterator("table",(function(ctx){ctx._select||DataTable.select.init(new DataTable.Api(ctx)),ctx._select_init||init(ctx),ctx._select.style=style;var dt=new DataTable.Api(ctx);"api"!==style?dt.ready((function(){disableMouseSelection(dt),enableMouseSelection(dt)})):disableMouseSelection(dt),eventTrigger(new DataTable.Api(ctx),"selectStyle",[style])}))})),apiRegister("select.selector()",(function(selector){return void 0===selector?this.context[0]._select.selector:this.iterator("table",(function(ctx){var dt=new DataTable.Api(ctx),style=ctx._select.style;disableMouseSelection(dt),ctx._select.selector=selector,style&&"api"!==style?dt.ready((function(){disableMouseSelection(dt),enableMouseSelection(dt)})):disableMouseSelection(dt)}))})),apiRegister("select.selectable()",(function(set){let ctx=this.context[0];return set?(ctx._select.selectable=set,this):ctx._select.selectable})),apiRegister("select.last()",(function(set){let ctx=this.context[0];return set?(ctx._select_lastCell=set,this):ctx._select_lastCell})),apiRegister("select.cumulative()",(function(mode){if(mode)return this.iterator("table",(function(ctx){if(ctx._select_mode!==mode){var dt=new DataTable.Api(ctx);if("subtractive"===mode){var unselected=dt.rows({selected:!1}).ids().toArray();ctx._select_mode=mode,ctx._select_set.length=0,ctx._select_set.push.apply(ctx._select_set,unselected)}else{var selected=dt.rows({selected:!0}).ids().toArray();ctx._select_mode=mode,ctx._select_set.length=0,ctx._select_set.push.apply(ctx._select_set,selected)}}})).draw(!1);let ctx=this.context[0];return ctx&&ctx._select_set?{mode:ctx._select_mode,rows:ctx._select_set}:null})),apiRegisterPlural("rows().select()","row().select()",(function(select){var api=this,selectedIndexes=[];return!1===select?this.deselect():(this.iterator("row",(function(ctx,idx){clear(ctx);var dtData=ctx.aoData[idx],dtColumns=ctx.aoColumns;if(ctx._select.selectable&&!1===ctx._select.selectable(dtData._aData,dtData.nTr,idx))return;$(dtData.nTr).addClass(ctx._select.className),dtData._select_selected=!0,selectedIndexes.push(idx);for(var i=0;i<dtColumns.length;i++){var col=dtColumns[i];if(null===col.sType&&api.columns().types(),isCheckboxColumn(col)){var cells=dtData.anCells;cells&&cells[i]&&$("input."+checkboxClass(!0),cells[i]).prop("checked",!0),null!==dtData._aSortData&&(dtData._aSortData[i]=null)}}})),this.iterator("table",(function(ct){eventTrigger(api,"select",["row",selectedIndexes],!0)})),this)})),apiRegister("row().selected()",(function(){var ctx=this.context[0];return!!(ctx&&this.length&&ctx.aoData[this[0]]&&ctx.aoData[this[0]]._select_selected)})),apiRegister("row().focus()",(function(){var ctx=this.context[0];ctx&&this.length&&ctx.aoData[this[0]]&&ctx.aoData[this[0]].nTr&&ctx.aoData[this[0]].nTr.focus()})),apiRegister("row().blur()",(function(){var ctx=this.context[0];ctx&&this.length&&ctx.aoData[this[0]]&&ctx.aoData[this[0]].nTr&&ctx.aoData[this[0]].nTr.blur()})),apiRegisterPlural("columns().select()","column().select()",(function(select){var api=this;return!1===select?this.deselect():(this.iterator("column",(function(ctx,idx){clear(ctx),ctx.aoColumns[idx]._select_selected=!0;var column=new DataTable.Api(ctx).column(idx);$(column.header()).addClass(ctx._select.className),$(column.footer()).addClass(ctx._select.className),column.nodes().to$().addClass(ctx._select.className)})),this.iterator("table",(function(ctx,i){eventTrigger(api,"select",["column",api[i]],!0)})),this)})),apiRegister("column().selected()",(function(){var ctx=this.context[0];return!!(ctx&&this.length&&ctx.aoColumns[this[0]]&&ctx.aoColumns[this[0]]._select_selected)})),apiRegisterPlural("cells().select()","cell().select()",(function(select){var api=this;return!1===select?this.deselect():(this.iterator("cell",(function(ctx,rowIdx,colIdx){clear(ctx);var data=ctx.aoData[rowIdx];void 0===data._selected_cells&&(data._selected_cells=[]),data._selected_cells[colIdx]=!0,data.anCells&&$(data.anCells[colIdx]).addClass(ctx._select.className)})),this.iterator("table",(function(ctx,i){eventTrigger(api,"select",["cell",api.cells(api[i]).indexes().toArray()],!0)})),this)})),apiRegister("cell().selected()",(function(){var ctx=this.context[0];if(ctx&&this.length){var row=ctx.aoData[this[0][0].row];if(row&&row._selected_cells&&row._selected_cells[this[0][0].column])return!0}return!1})),apiRegisterPlural("rows().deselect()","row().deselect()",(function(){var api=this;return this.iterator("row",(function(ctx,idx){var dtData=ctx.aoData[idx],dtColumns=ctx.aoColumns;$(dtData.nTr).removeClass(ctx._select.className),dtData._select_selected=!1,ctx._select_lastCell=null;for(var i=0;i<dtColumns.length;i++){var col=dtColumns[i];if(null===col.sType&&api.columns().types(),isCheckboxColumn(col)){var cells=dtData.anCells;cells&&cells[i]&&$("input."+checkboxClass(!0),dtData.anCells[i]).prop("checked",!1),null!==dtData._aSortData&&(dtData._aSortData[i]=null)}}})),this.iterator("table",(function(ctx,i){eventTrigger(api,"deselect",["row",api[i]],!0)})),this})),apiRegisterPlural("columns().deselect()","column().deselect()",(function(){var api=this;return this.iterator("column",(function(ctx,idx){ctx.aoColumns[idx]._select_selected=!1;var api=new DataTable.Api(ctx),column=api.column(idx);$(column.header()).removeClass(ctx._select.className),$(column.footer()).removeClass(ctx._select.className),api.cells(null,idx).indexes().each((function(cellIdx){var data=ctx.aoData[cellIdx.row],cellSelected=data._selected_cells;!data.anCells||cellSelected&&cellSelected[cellIdx.column]||$(data.anCells[cellIdx.column]).removeClass(ctx._select.className)}))})),this.iterator("table",(function(ctx,i){eventTrigger(api,"deselect",["column",api[i]],!0)})),this})),apiRegisterPlural("cells().deselect()","cell().deselect()",(function(){var api=this;return this.iterator("cell",(function(ctx,rowIdx,colIdx){var data=ctx.aoData[rowIdx];void 0!==data._selected_cells&&(data._selected_cells[colIdx]=!1),data.anCells&&!ctx.aoColumns[colIdx]._select_selected&&$(data.anCells[colIdx]).removeClass(ctx._select.className)})),this.iterator("table",(function(ctx,i){eventTrigger(api,"deselect",["cell",api[i]],!0)})),this}));var _buttonNamespace=0;return $.extend(DataTable.ext.buttons,{selected:{text:i18n("selected","Selected"),className:"buttons-selected",limitTo:["rows","columns","cells"],init:function(dt,node,config){var that=this;config._eventNamespace=".select"+_buttonNamespace++,dt.on(namespacedEvents(config),(function(){that.enable(function(dt,config){return!(-1===config.limitTo.indexOf("rows")||!dt.rows({selected:!0}).any())||!(-1===config.limitTo.indexOf("columns")||!dt.columns({selected:!0}).any())||!(-1===config.limitTo.indexOf("cells")||!dt.cells({selected:!0}).any())}(dt,config))})),this.disable()},destroy:function(dt,node,config){dt.off(config._eventNamespace)}},selectedSingle:{text:i18n("selectedSingle","Selected single"),className:"buttons-selected-single",init:function(dt,node,config){var that=this;config._eventNamespace=".select"+_buttonNamespace++,dt.on(namespacedEvents(config),(function(){var count=dt.rows({selected:!0}).flatten().length+dt.columns({selected:!0}).flatten().length+dt.cells({selected:!0}).flatten().length;that.enable(1===count)})),this.disable()},destroy:function(dt,node,config){dt.off(config._eventNamespace)}},selectAll:{text:i18n("selectAll","Select all"),className:"buttons-select-all",action:function(e,dt,node,config){var items=this.select.items(),mod=config.selectorModifier;mod?("function"==typeof mod&&(mod=mod.call(dt,e,dt,node,config)),this[items+"s"](mod).select()):this[items+"s"]().select()}},selectNone:{text:i18n("selectNone","Deselect all"),className:"buttons-select-none",action:function(){clear(this.settings()[0],!0)},init:function(dt,node,config){var that=this;config._eventNamespace=".select"+_buttonNamespace++,dt.on(namespacedEvents(config),(function(){var count=dt.rows({selected:!0}).flatten().length+dt.columns({selected:!0}).flatten().length+dt.cells({selected:!0}).flatten().length;that.enable(count>0)})),this.disable()},destroy:function(dt,node,config){dt.off(config._eventNamespace)}},showSelected:{text:i18n("showSelected","Show only selected"),className:"buttons-show-selected",action:function(e,dt){if(dt.search.fixed("dt-select"))dt.search.fixed("dt-select",null),this.active(!1);else{var dataSrc=dt.settings()[0].aoData;dt.search.fixed("dt-select",(function(text,data,idx){return dataSrc[idx]._select_selected})),this.active(!0)}dt.draw()}}}),$.each(["Row","Column","Cell"],(function(i,item){var lc=item.toLowerCase();DataTable.ext.buttons["select"+item+"s"]={text:i18n("select"+item+"s","Select "+lc+"s"),className:"buttons-select-"+lc+"s",action:function(){this.select.items(lc)},init:function(dt){var that=this;this.active(dt.select.items()===lc),dt.on("selectItems.dt.DT",(function(e,ctx,items){that.active(items===lc)}))}}})),DataTable.type("select-checkbox",{className:"dt-select",detect:DataTable.versionCheck("2.1")?{oneOf:function(){return!1},allOf:function(){return!1},init:function(settings,col,idx){return isCheckboxColumn(col)}}:function(data){return"select-checkbox"===data&&data},order:{pre:function(d){return"X"===d?-1:0}}}),$.extend(!0,DataTable.defaults.oLanguage,{select:{aria:{rowCheckbox:"Select row"}}}),DataTable.render.select=function(valueProp,nameProp){var valueFn=valueProp?DataTable.util.get(valueProp):null,nameFn=nameProp?DataTable.util.get(nameProp):null,fn=function(data,type,row,meta){var dtRow=meta.settings.aoData[meta.row],selected=dtRow._select_selected,ariaLabel=meta.settings.oLanguage.select.aria.rowCheckbox,selectable=meta.settings._select.selectable;if("display"===type){if(selectable)if(!1===selectable(row,dtRow.nTr,meta.row))return"";return $("<input>").attr({"aria-label":ariaLabel,class:checkboxClass(),name:nameFn?nameFn(row):null,type:"checkbox",value:valueFn?valueFn(row):null,checked:selected}).on("input",(function(e){e.preventDefault(),this.checked=$(this).closest("tr").hasClass("selected")}))[0]}return"type"===type?"select-checkbox":"filter"===type?"":selected?"X":""};return fn._name="selectCheckbox",fn},DataTable.ext.order["select-checkbox"]=function(settings,col){return this.api().column(col,{order:"index"}).nodes().map((function(td){return"row"===settings._select.items?$(td).parent().hasClass(settings._select.className).toString():"cell"===settings._select.items&&$(td).hasClass(settings._select.className).toString()}))},$.fn.DataTable.select=DataTable.select,$(document).on("i18n.dt.dtSelect preInit.dt.dtSelect",(function(e,ctx){"dt"===e.namespace&&DataTable.select.init(new DataTable.Api(ctx))})),DataTable}));

//# sourceMappingURL=dataTables.select.min.js.map