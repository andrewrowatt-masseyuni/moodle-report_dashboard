!function(factory){if("function"==typeof define&&define.amd)define("report_dashboard/buttons.print",["jquery","report_dashboard/dataTables","datatables.net-buttons"],(function($){return factory($,window,document)}));else if("object"==typeof exports){var jq=require("jquery"),cjsRequires=function(root,$){$.fn.dataTable||require("report_dashboard/dataTables")(root,$),$.fn.dataTable.Buttons||require("datatables.net-buttons")(root,$)};"undefined"==typeof window?module.exports=function(root,$){return root||(root=window),$||($=jq(root)),cjsRequires(root,$),factory($,root,root.document)}:(cjsRequires(window,jq),module.exports=factory(jq,window,window.document))}else factory(jQuery,window,document)}((function($,window,document){var DataTable=$.fn.dataTable,_link=document.createElement("a"),_relToAbs=function(href){_link.href=href;var linkHost=_link.host;return-1===linkHost.indexOf("/")&&0!==_link.pathname.indexOf("/")&&(linkHost+="/"),_link.protocol+"//"+linkHost+_link.pathname+_link.search};return DataTable.ext.buttons.print={className:"buttons-print",text:function(dt){return dt.i18n("buttons.print","Print")},action:function(e,dt,button,config,cb){var data=dt.buttons.exportData($.extend({decodeEntities:!1},config.exportOptions)),exportInfo=dt.buttons.exportInfo(config),columnClasses=dt.columns(config.exportOptions.columns).nodes().map((function(n){return n.className})).toArray(),addRow=function(d,tag){for(var str="<tr>",i=0,ien=d.length;i<ien;i++){var dataOut=null===d[i]||void 0===d[i]?"":d[i];str+="<"+tag+" "+(columnClasses[i]?'class="'+columnClasses[i]+'"':"")+">"+dataOut+"</"+tag+">"}return str+"</tr>"},html='<table class="'+dt.table().node().className+'">';config.header&&(html+="<thead>"+data.headerStructure.map((function(row){return"<tr>"+row.map((function(cell){return cell?'<th colspan="'+cell.colspan+'" rowspan="'+cell.rowspan+'">'+cell.title+"</th>":""})).join("")+"</tr>"})).join("")+"</thead>");html+="<tbody>";for(var i=0,ien=data.body.length;i<ien;i++)html+=addRow(data.body[i],"td");(html+="</tbody>",config.footer&&data.footer)&&(html+="<tfoot>"+data.footerStructure.map((function(row){return"<tr>"+row.map((function(cell){return cell?'<th colspan="'+cell.colspan+'" rowspan="'+cell.rowspan+'">'+cell.title+"</th>":""})).join("")+"</tr>"})).join("")+"</tfoot>");html+="</table>";var win=window.open("","");if(win){win.document.close(),win.document.title=exportInfo.title,$('style, link[rel="stylesheet"]').each((function(){let node=this.cloneNode(!0);"link"===node.tagName.toLowerCase()&&(node.href=_relToAbs(node.href)),win.document.head.appendChild(node)})),config.customScripts&&config.customScripts.forEach((function(script){var tag=win.document.createElement("script");tag.src=script,win.document.getElementsByTagName("head")[0].appendChild(tag)})),win.document.body.innerHTML="<h1>"+exportInfo.title+"</h1><div>"+(exportInfo.messageTop||"")+"</div>"+html+"<div>"+(exportInfo.messageBottom||"")+"</div>",$(win.document.body).addClass("dt-print-view"),$("img",win.document.body).each((function(i,img){img.setAttribute("src",_relToAbs(img.getAttribute("src")))})),config.customize&&config.customize(win,config,dt);win.setTimeout((function(){config.autoPrint&&(win.print(),win.close())}),1e3),cb()}else dt.buttons.info(dt.i18n("buttons.printErrorTitle","Unable to open print view"),dt.i18n("buttons.printErrorMsg","Please allow popups in your browser for this site to be able to view the print view."),5e3)},async:100,title:"*",messageTop:"*",messageBottom:"*",exportOptions:{},header:!0,footer:!0,autoPrint:!0,customize:null},DataTable}));

//# sourceMappingURL=buttons.print.min.js.map